.list {
  display: grid;
  gap: 24px;

  &.cols-1 {
    grid-template-columns: 1fr;
  }

  &.cols-2 {
    @media (min-width: 768px) {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  &.cols-3 {
    @media (min-width: 768px) {
      grid-template-columns: repeat(2, 1fr);
    }
    @media (min-width: 1280px) {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  &.cols-4 {
    grid-template-columns: repeat(1, 1fr);
    @media (min-width: 768px) {
      grid-template-columns: repeat(2, 1fr);
    }
    @media (min-width: 1280px) {
      grid-template-columns: repeat(4, 1fr);
    }
  }

  &[data-theme='default'] {
    @apply gap-12 md:gap-24;
    .list-item {
      @apply p-0;
      color: var(--color-sapphire-500);
    }
    .list-content {
      @apply max-w-[400px];
    }
  }

  &[data-theme='image-only'] {
    @apply gap-8 md:gap-4;
    .list-item {
      @apply overflow-hidden p-0;
    }

    .icon-wrapper {
      @apply aspect-3/2 max-w-[200px] md:max-w-[140px] lg:max-w-[200px];
    }
  }

  &[data-theme='snapshot'] {
    @apply gap-8 md:justify-self-end;
    .list-item {
      @apply max-w-[480px] p-0;
      color: var(--color-sapphire-500);

      .heading {
        @apply font-bold;
      }
    }

    .icon-wrapper {
      @apply max-w-16 rounded-2xl bg-sapphire-500 md:max-w-[100px];
      img {
        @apply relative p-3 md:p-4;
      }
    }
  }

  &[data-theme='cards'] {
    @apply gap-4;
    .list-item {
      @apply items-start;
      border: 1px solid rgba(0, 0, 0, 0.11);
      background: rgba(161, 175, 229, 0.06);
      color: var(--color-sapphire-500);

      &.has-link {
        @apply cursor-pointer;
      }
    }
  }

  &[data-theme='cards-blue'] {
    @apply gap-4;
    .list-item {
      @apply flex-col items-start;
      background: var(--color-solitude-500);
      color: var(--color-sapphire-500);

      &.has-link {
        @apply cursor-pointer;
      }
    }
    .icon-wrapper {
      max-width: 100px;
    }
  }

  &[data-theme='cards-white'] {
    @apply gap-4;
    .list-item {
      @apply items-start;
      background: white;
      color: var(--color-stellarnight-600);

      &.has-link {
        @apply cursor-pointer;
      }
    }
  }

  &[data-theme='cards-service'] {
    @apply gap-4;
    .list-item {
      @apply flex-col items-start rounded-3xl text-white;
      border: 1px solid rgba(0, 0, 0, 0.11);
      background: var(--color-blue-ribbon-500);
      padding: 2.5rem;

      &.has-link {
        @apply cursor-pointer;

        &:hover {
          background: var(--color-blue-ribbon-600);
        }
      }
    }

    .icon-heading-row {
      @apply mb-3 flex w-full items-center gap-6;

      .heading {
        @apply mb-0 flex-1 text-2xl tracking-normal md:text-3xl;
        font-family: var(--font-share-tech);
      }
    }

    .icon-wrapper {
      flex-shrink: 0;
      max-width: 50px;
      width: 50px;
      height: 50px;
    }

    .list-content {
      @apply w-full;
    }
  }

  &[data-theme='cards-data'] {
    @apply gap-4;
    .list-item {
      @apply flex-col items-start;
      padding: 0;

      /* Body content is outside the card */
      .list-content {
        @apply w-full;

        > div {
          @apply text-base md:text-lg;
        }
      }
    }

    .card-data-card {
      @apply w-full;
      padding: 2.5rem;
    }

    /* Background color based on section theme */
    &[data-section-theme='dark'] {
      .card-data-card {
        background: #d2ff78;
        color: black;
      }

      .list-item {
        color: white;

        .list-content > div {
          color: white;
        }
      }
    }

    &[data-section-theme]:not([data-section-theme='dark']),
    &:not([data-section-theme]) {
      .card-data-card {
        background: var(--color-blue-ribbon-500);
        color: black;
      }

      .list-item {
        color: black;

        .list-content > div {
          color: black;
        }
      }
    }

    .card-data-header {
      @apply mb-0 flex w-full items-baseline justify-between gap-4;
      width: 100%;

      .heading {
        @apply mb-0 text-4xl tracking-normal md:text-5xl;
        font-family: var(--font-share-tech);
        line-height: 1.1;
        flex: 1;
      }

      .label {
        @apply text-lg font-normal md:text-xl;
        opacity: 0.8;
        white-space: nowrap;
      }
    }

    /* Inherit color from parent for heading and label */
    &[data-section-theme='dark'] .card-data-header {
      .heading,
      .label {
        color: black;
      }
    }

    &[data-section-theme]:not([data-section-theme='dark']) .card-data-header,
    &:not([data-section-theme]) .card-data-header {
      .heading,
      .label {
        color: black;
      }
    }
  }

  &[data-theme='checks'] {
    @apply gap-1;
    .list-item {
      @apply bg-transparent pl-0 text-sapphire-500;
    }
    .list-content {
      @apply max-w-[320px] lg:max-w-[480px];
    }
  }

  &[data-theme='negatives'] {
    @apply gap-4;
    .list-item {
      background: var(--color-perano-300);
      color: var(--color-sapphire-500);
    }
  }

  &[data-theme='positives'] {
    @apply gap-4;
    .list-item {
      background: var(--color-solitude-500);
      color: var(--color-sapphire-500);
    }
  }

  &[data-theme='flags'] {
    @apply gap-12;
    .list-item {
      @apply min-h-[60px] items-start gap-5 bg-transparent p-0;
    }

    /* Dark section theme support */
    &[data-section-theme='dark'],
    &[data-section-theme='midnight'] {
      .list-item {
        color: white;
        p {
          color: white;
        }
      }
    }

    /* Light section theme (default) */
    &[data-section-theme]:not([data-section-theme='dark']):not([data-section-theme='midnight']),
    &:not([data-section-theme]) {
      .list-item {
        color: black;
        p {
          color: black;
        }
      }
    }
  }

  &[data-theme='good'],
  &[data-theme='bad'] {
    @apply gap-4;
    .list-item {
      @apply p-0 pb-2 pt-2;
    }
  }

  &[data-theme='good'] {
    .list-item {
      color: var(--color-sapphire-500);
    }
  }

  &[data-theme='bad'] {
    .list-item {
      color: var(--color-magenta-300);

      .heading {
        @apply text-magenta-300;
      }
    }
  }

  &[data-theme='counter'] {
    @apply gap-4;
    .list-item {
      @apply flex-col items-center justify-center text-center;
      background: var(--color-blue-ribbon-500);
      color: white;
      border-radius: 12px;
      padding: 2rem 1.5rem;
      min-height: 180px;

      .heading {
        @apply mb-2 text-5xl font-bold tracking-normal md:text-6xl;
        color: white;
        line-height: 1.1;
      }

      .list-content {
        @apply max-w-none;

        > div {
          @apply text-base md:text-lg;
          color: white;
          opacity: 0.95;
        }
      }
    }
  }

  .list-item {
    h4 {
      @apply mb-1;
    }
  }

  &.compact {
    @apply gap-4;
    .list-item {
      @apply border-0 bg-transparent p-0;
    }
  }
}

.list-item {
  @apply flex items-center gap-5 rounded-lg p-5 md:gap-6 md:p-8;

  &.has-link {
    @apply transition-transform duration-300 ease-out;

    &:hover {
      @apply scale-[1.02] shadow-lg;
      transform: translateY(-2px);
    }
  }
}

.list-item-link {
  @apply block h-full w-full text-inherit no-underline;
  display: flex;
  align-items: center;
  gap: 1.25rem;
  color: inherit;

  @media (min-width: 768px) {
    gap: 1.5rem;
  }

  &:hover,
  &:focus {
    color: inherit;
    text-decoration: none;
  }

  .list[data-theme*='cards'] & {
    flex-direction: column;
    align-items: flex-start;
  }
}

.list-content {
  @apply max-w-[480px] flex-1;
}

.heading {
  @apply mb-2;
}

.subheading {
  @apply mb-2;
}

.flag-bar {
  width: 10px;
  background: var(--color-sapphire-500);
  border-radius: 1px;
  align-self: stretch;
}

/* theme overrides */
.midnight {
  .list {
    &[data-theme='cards-blue'] {
      .list-item {
        @apply border-2 border-perano-500 bg-white/5 text-white;
      }
    }
  }
}
